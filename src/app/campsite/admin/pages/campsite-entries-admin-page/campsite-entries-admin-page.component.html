<app-campsite-page-header></app-campsite-page-header>
<app-campsite-table>
    <app-campsite-table-row header>
        <app-campsite-table-col>Path</app-campsite-table-col>
        <app-campsite-table-col>Page</app-campsite-table-col>
        <app-campsite-table-col>Type</app-campsite-table-col>
        <app-campsite-table-col>Actions</app-campsite-table-col>
    </app-campsite-table-row>

    <!-- Existing Routes -->
    <app-campsite-table-row *ngFor="let route of routes; let i = index">
        <app-campsite-table-col>
            <input type="text" [(ngModel)]="route.path" (ngModelChange)="changeMade(route.id)" [disabled]="i === 0" />
        </app-campsite-table-col>
        <app-campsite-table-col>
            <select [(ngModel)]="route.entry" (ngModelChange)="changeMade(route.id)">
                <option *ngFor="let type of entryTypes" [value]="type.id">{{ type.name }}</option>
            </select>
        </app-campsite-table-col>
        <app-campsite-table-col class="c-route-item">
            <select [(ngModel)]="route.type" (ngModelChange)="changeMade(route.id)" disabled>
                <option *ngFor="let type of routeTypes" [value]="type">{{ type }}</option>
            </select>
        </app-campsite-table-col>
        <app-campsite-table-col>
            <button class="c-icon-button" (click)="removeRoute(route)" *ngIf="i !== 0">
                <span class="material-icons-outlined">clear</span>
            </button>
        </app-campsite-table-col>
    </app-campsite-table-row>

    <ng-container #footer>
        <span class="p-entries-actions">
            <button class="c-icon-button" (click)="addRoute()">
                <span class="material-icons-outlined">add</span>
            </button>
            <button class="c-icon-button primary" [disabled]="!hasChanges()" (click)="save()">
                <span class="material-icons-outlined">save</span>
            </button>
        </span>
    </ng-container>
</app-campsite-table>